1) Writer(Primary) 인스턴스가 죽었을 때
A. 클러스터 내부에서 일어나는 자동 복구

장애 감지
Aurora가 Writer 헬스를 지속 체크하다가 I/O hang, 프로세스 크래시, AZ 장애 등을 감지하면 즉시 쓰기를 중단하고 failover 절차에 들어간다. (일반적으로 수~수십 초 단위)

새 Writer 선출(Reader 승격)
클러스터에 있는 Reader들 중에서 복제 지연이 가장 적고 상태가 좋은 인스턴스를 골라 Writer로 승격한다.

승격 과정에서 해당 인스턴스는 read-only → read/write 모드가 되고, 다른 Reader들은 새 Writer로부터 다시 복제를 시작한다.

Aurora는 공유 스토리지(6중 복제)를 쓰므로 커밋된 트랜잭션은 보존된다. 커밋되지 않은 트랜잭션은 롤백된다. (데이터 정합성 관점에서 crash-safe)

엔드포인트 갱신
Writer 클러스터 엔드포인트가 자동으로 새 Writer를 가리키도록 갱신된다. Reader 엔드포인트는 여전히 여러 Reader로 로드밸런싱된다(죽은 Reader가 있으면 제외).



2) Reader 인스턴스가 죽었을 때

읽기 전용 트래픽만 영향: 그 Reader로 잡혀 있던 연결이 끊기고 Reader 엔드포인트는 살아 있는 다른 Reader로 라우팅된다.

자동 대체: 죽은 Reader는 자동으로 재프로비저닝되거나, 우리가 원하는 수만큼 다시 늘리면 된다.

우리 쪽 할 일: 특별히 없음. 커넥션 풀의 유휴/헬스체크로 자동 정리된다.



3) 스토리지/AZ 레벨 이슈일 때

Aurora는 6-way 스토리지 복제를 사용해서 블록 단위로 자체 복구한다.

AZ 전체 이슈여도 다른 AZ의 인스턴스/스토리지가 살아 있으면 클러스터가 유지된다.

PITR/스냅샷은 별개로 돌아가므로 백업·복구 지점은 계속 확보된다.